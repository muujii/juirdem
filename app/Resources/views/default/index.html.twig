<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    {% image 'bundles/images/32x21logo.png' %}
    <link rel="shortcut icon" href="{{ asset_url }}" type="image/png"/>
    {% endimage %}

    <title>JUIR DEM</title>

    {% stylesheets 'bundles/css/bootstrap.min.css'
    'bundles/css/ie10-viewport-bug-workaround.css'
    'bundles/css/styles.css'
    filter='cssrewrite' %}
    <link rel="stylesheet" href="{{ asset_url }}"/>
    {% endstylesheets %}

    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>
<body>

<nav class="navbar navbar-default navbar-fixed-top">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar"
                    aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand">OOS</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
            <form class="navbar-form navbar-right" action="{{ path('login') }}" method="post">
                <table>
                    <tr>
                        <td style="color: #fff">И-Мэйл</td>
                        <td style="color: #fff">Нууц үг</td>
                    </tr>
                    <tr>
                        <td><input type="text" id="email" name="_email">&nbsp;&nbsp;</td>
                        <td><input type="password" id="password" name="_password">&nbsp;&nbsp;</td>
						<input type="hidden" name="_target_path" value="account" />
                        <td>
                            <button type="submit" style="background-color: #fff;border:1px solid #fff;color: #47525d;">
                                Нэвтрэх
                            </button>
                        </td>
                    </tr>
                    <tr>
                        <td></td>
                        <td style="color: #ededed; font-size: 11px;">Нууц үг мартсан</td>
                    </tr>
                </table>
                {% if msg is defined %}
                    <strong style="color: red;">{{ msg }}</strong>
                {% endif %}
            </form>
        </div><!--/.navbar-collapse -->
    </div>
</nav>
<div class="container" style="margin-top: 100px;">
    <div>
	{% for flash_message in app.session.flashBag.get('notice') %}
    <div class="alert alert-success">
        <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
        <strong>{{ flash_message }}</strong>
    </div>
	{% endfor %}
        
    </div>
    <div class="row">
        <div class="col-md-8">
            <div class="embed-responsive embed-responsive-16by9" style="margin-top: 25px;">
                
            </div>
        </div>
		
		{{ form_start(form, {'attr': {'class': 'registration-form'} }) }}
		
		
            <div class="col-md-4">
                <h2 style="color: #47525d"><b>Бүртгүүлэх</b></h2>
                <p></p>
                <br>
                <div class="form-group">
                    {{ form_row(form.company, {'attr': {'class': 'form-first-name form-control', 'placeholder': 'Байгууллагын нэр ...'}}) }}
                    <div id="name_error" style="margin-left: 5px; margin-top: 3px;"></div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            {{ form_row(form.firstname) }}
                            <div id="firstname_error" style="margin-left: 5px; margin-top: 3px;"></div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            {{ form_row(form.lastname) }}
                            <div id="lastname_error" style="margin-left: 5px; margin-top: 3px; "></div>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    {{ form_row(form.email) }}
                    <div id="email_error" style="margin-left: 5px; margin-top: 3px; "></div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            {{ form_row(form.password.first) }}
                            <div id="password_error" style="margin-left: 5px; margin-top: 3px;"></div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            {{ form_row(form.password.second) }}
                            <div id="re_password_error" style="margin-left: 5px; margin-top: 3px; "></div>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    {{ form_row(form.job) }}
                    <div id="job_error" style="margin-left: 5px; margin-top: 3px; "></div>
                </div>
                <div class="form-group">
                    {{ form_row(form.phone) }}
                    <div id="phone_error" style="margin-left: 5px; margin-top: 3px;"></div>
                </div>
                <p></p>
                <button type="submit" class="btn btn-success btn-block">Хүсэлт илгээх</button>
            </div>
      {{ form_end(form) }}
    </div>
</div>
<!-- /container -->

<hr>
<footer class="footers">
    <div class="container">
        <p>COPYRIGHT &copy; 2016 ЗОХИОГЧИЙН ЭРХ ХУУЛИАР ХАМГААЛАГДСАН.</p>
    </div>
</footer>

{% javascripts 'bundles/js/jquery.min.js'
'bundles/bootstrap/js/bootstrap.min.js'
'bundles/js/ie10-viewport-bug-workaround.js' %}
<script src="{{ asset_url }}"></script>
{% endjavascripts %}

<script type="text/javascript">

    var company = document.forms["vForm"]["company"];
    var firstName = document.forms["vForm"]["firstname"];
    var lastName = document.forms["vForm"]["lastname"];
    var email = document.forms["vForm"]["email"];
    var password = document.forms["vForm"]["password"];
    var re_password = document.forms["vForm"]["re_password"];
    var job = document.forms["vForm"]["job"];
    var phone = document.forms["vForm"]["phone"];

    var name_error = document.getElementById("name_error");
    var firstName_error = document.getElementById("firstname_error");
    var lastName_error = document.getElementById("lastname_error");
    var email_error = document.getElementById("email_error");
    var password_error = document.getElementById("password_error");
    var re_password_error = document.getElementById("re_password_error");
    var job_error = document.getElementById("job_error");
    var phone_error = document.getElementById("phone_error");

    company.addEventListener("blur", function () {
        name_error.textContent = "";
        company.style.border = "";
    }, true);
    firstName.addEventListener("blur", function () {
        firstName_error.textContent = "";
        firstName.style.border = "";
    }, true);
    lastName.addEventListener("blur", function () {
        lastName_error.textContent = "";
        lastName.style.border = "";
    }, true);
    email.addEventListener("blur", function () {
        email_error.textContent = "";
        email.style.border = "";
    }, true);
    password.addEventListener("blur", function () {
        password_error.textContent = "";
        password.style.border = "";
    }, true);
    re_password.addEventListener("blur", function () {
        re_password_error.textContent = "";
        re_password.style.border = "";
    }, true);
    job.addEventListener("blur", function () {
        job_error.textContent = "";
        job.style.border = "";
    }, true);
    phone.addEventListener("blur", function () {
        phone_error.textContent = "";
        phone.style.border = "";
    }, true);

    function checkForm() {
        if (company.value == "") {
            company.style.border = "1px solid red";
            name_error.textContent = "Байгууллагын нэр оруулна уу!!!";
            name_error.style.color = "red";
            company.focus();
            return false;
        }
        if (firstName.value == "") {
            firstName.style.border = "1px solid red";
            firstName_error.textContent = "Та овогоо оруулна уу!!!";
            firstName.style.color = "red";
            firstName.focus();
            return false;
        }
        if (lastName.value == "") {
            lastName.style.border = "1px solid red";
            lastName_error.textContent = "Та нэрээ оруулна уу!!!";
            lastName_error.style.color = "red";
            lastName.focus();
            return false;
        }
        var $email = $('form input[name="email'); //change form to id or containment selector
        var re = /[A-Z0-9._%+-]+@[A-Z0-9.-]+.[A-Z]{2,4}/igm;
        if ($email.val() == '' || !re.test($email.val()))
        {
            email.style.border = "1px solid red";
            email_error.textContent = "Та и-мэйл хаягаа оруулна уу!!!";
            email.style.color = "red";
            email.focus();
            return false;
        }
        if (password.value == "" && re_password.value == "") {
            password.style.border = "1px solid red";
            re_password.style.border = "1px solid red";
            password_error.textContent = "Та нууц үгээ оруулна уу!!!";
            re_password_error.textContent = "Та нууц үгээ оруулна уу!!!";
            password.style.color = "red";
            re_password.style.color = "red";
            password.focus();
            re_password.focus();
            return false;
        } else if (password.value != "" && re_password.value != "") {
            if (password.value != re_password.value) {
                password.style.border = "1px solid red";
                re_password.style.border = "1px solid red";
                password_error.textContent = "Таны оруулсан нууц үг тохирохгүй байна!!!";
                re_password_error.textContent = "Таны оруулсан нууц үг тохирохгүй байна!!!";
                password.style.color = "red";
                re_password.style.color = "red";
                password.focus();
                re_password.focus();
                return false;
            }
        }
        if (job.value == "") {
            job.style.border = "1px solid red";
            job_error.textContent = "Та албан тушаалаа оруулна уу!!!";
            job.style.color = "red";
            job.focus();
            return false;
        }
        if (phone.value == "") {
            phone.style.border = "1px solid red";
            phone_error.textContent = "Та утасны дугаараа оруулна уу!!!";
            phone.style.color = "red";
            phone.focus();
            return false;
        }
    }
</script>

</body>

</html>
